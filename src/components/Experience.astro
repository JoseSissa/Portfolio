---
// import { EXPERIENCE_JOBS } from "../constants/experience.js";
import Pill from "./Pill.astro";
import TitleSection from "./TitleSection.astro";

import { geti18n } from '@/i18n';
const { currentLocale } = Astro;
const i18n = geti18n({ currentLocale });

const EXPERIENCE_JOBS = [
  {
    date: i18n.EXPERIENCE.JOBS[0].DATE,
    company: i18n.EXPERIENCE.JOBS[0].COMPANY,
    web: i18n.EXPERIENCE.JOBS[0].WEB,
    position: i18n.EXPERIENCE.JOBS[0].POSITION,
    summary: [
        i18n.EXPERIENCE.JOBS[0].SUMMARY[0],
        i18n.EXPERIENCE.JOBS[0].SUMMARY[1],
    ],
    technologies: ['HTML', 'CSS', 'JavaScript', 'React', 'Docker', 'Laravel', 'Astro', 'Tailwind CSS']
  }
]
---

<section class="mb-16" id="experience">
    <TitleSection>{i18n.EXPERIENCE.TITLE}</TitleSection>
    <div>
        <ol>
            {
                EXPERIENCE_JOBS.map((job) => {
                    return (
                        <li class="mb-12">
                            <div class="flex flex-col lg:flex-row gap-x-4">
                                <header class="min-w-40 max-w-40 text-xs text-colorPrimary">
                                    {job.date}
                                </header>
                                <div>
                                    <h3 class="mb-4 font-bold text-xl">
                                        {job.position} en {job.company}
                                    </h3>
                                    {job.summary.map((text) => {
                                        return (
                                            <p
                                                class="mb-3 text-colorSecondary"
                                                set:html={text}
                                            />
                                        );
                                    })}
                                    <ul class="flex flex-wrap gap-x-2">
                                        {job.technologies.map(
                                            (tecnologia, i) => (
                                                <Pill>{tecnologia}</Pill>
                                            )
                                        )}
                                    </ul>
                                </div>
                            </div>
                        </li>
                    );
                })
            }
        </ol>
    </div>
</section>
